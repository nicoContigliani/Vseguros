{"ast":null,"code":"var _jsxFileName = \"/home/nico/Desarrollo/React/p_seguimiento/vistasistemaseguros/src/components/main/contents/steeps/messages/CreateMessages.jsx\",\n    _s = $RefreshSig$();\n\nimport axios from 'axios';\nimport React, { useState, useEffect } from 'react';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nconst CreateMessages = () => {\n  _s();\n\n  const [value, setValue] = useState('');\n  const [dataTemp, setDataTemp] = useState('');\n  const [men, setMen] = useState([]);\n  const [menn, setMenn] = useState([]);\n  const [typp, setTypp] = useState([]);\n  const [personalized, setPersonalized] = useState('nc');\n  const [si, setSi] = useState(false);\n  const [type, setType] = useState('send');\n  const [message, setMessage] = useState('mensaje editable versión premium');\n  const [id_message, setId_message] = useState('');\n  const [id_person, setId_person] = useState();\n  const [usernames, setUsernames] = useState();\n  const [id_company, setId_company] = useState(\"\");\n  const [name, setName] = useState();\n  const [id_policy_type, setId_policy] = useState(\"\");\n  const [name_policy, setName_policy] = useState(\"\");\n  const [datail, setDatail] = useState(\"\");\n  const [numberreal, setNumberreal] = useState(\"\");\n  const [create, setCreate] = useState(\"\"); // const [id_message, setId_message] = useState(1)\n  // const [type, setType] = useState(\"algo\")\n  // const [message, setMessage] = useState(\"en caso de que no llegue a mensaje\")\n\n  const [phone, setPhone] = useState([]);\n  const [fullname, setFullname] = useState([]);\n  const [steeps, setSteeps] = useState(8);\n  const [pre, setPre] = useState(true);\n  useEffect(() => {\n    // getData()\n    getDataTemp();\n    setInterval(() => {\n      getData();\n    }, 5000);\n  }, []);\n\n  const getDataTemp = async () => {\n    const resultt = await axios.get(`http://localhost:3500/temp/2`);\n    const re = resultt.data[0];\n    console.log(re);\n    setId_person(re.id_person);\n    setUsernames(re.usernames);\n    setFullname(re.fullname);\n    setPhone(re.phone);\n    setId_company(re.id_company);\n    setName(re.name);\n    setId_policy(re.id_policy_type);\n    setName_policy(re.name_policy);\n    setDatail(re.datail);\n    setNumberreal(re.numberreal);\n    setCreate(re.create);\n    setSteeps(re.steeps);\n  };\n\n  const getData = async () => {\n    const result = await axios.get(`http://localhost:3500/message`);\n    console.log(result.data); // console.log(result.data[0].id_message)\n\n    const x = result.data[0].id_message;\n    const y = parseInt(x) + 1;\n    setId_message(y);\n    setMen(result.data); // setId_message(x + 1)\n    // console.log(id_message)\n    // console.log(men[0].id_message)\n    // console.log(result.data[0])\n    //  setId_message(men[0].id_message)\n    // if (result.data === '' || result.data === \"null\") {\n    //     alert(\"no tiene elementos\")\n    // } else {\n    //     // alert(result.data[0].id_person)\n    // }\n  };\n\n  const SelectMensaje = async e => {\n    e.preventDefault();\n    console.log(menn, typp); /////////aca va el re envio a temp\n    // const enviar = await axios.post(`http://localhost:3500/message`);\n    // const x = enviar.status;\n    // if (x === 200) {\n    //     setSi(true)\n    // }\n\n    insert();\n    insert();\n  };\n\n  const crearMens = e => {\n    e.preventDefault();\n    console.log(menn, typp); // setType(typp);\n    // setMessage(menn)\n\n    insertM();\n  };\n\n  const insertM = async () => {\n    const resultP = await axios.post(`http://localhost:3500/message/`, {\n      type,\n      message,\n      personalized: personalized\n    });\n    insert();\n    insert();\n  };\n\n  const insert = async () => {\n    const id = 2;\n    const resultP = await axios.post(`http://localhost:3500/temp/${id}`, {\n      id_person,\n      usernames,\n      id_company,\n      name,\n      id_policy_type,\n      name_policy,\n      datail,\n      numberreal,\n      create,\n      id_message: \"1\",\n      type,\n      message: \"enviado\",\n      steeps: 7,\n      phone,\n      fullname\n    });\n    console.log(resultP.status);\n    const x = resultP.status;\n\n    if (x === 200) {\n      setSi(true);\n    }\n  };\n\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    children: pre ? /*#__PURE__*/_jsxDEV(\"div\", {\n      children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n        children: \"Mensajes\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 160,\n        columnNumber: 25\n      }, this), /*#__PURE__*/_jsxDEV(\"h5\", {\n        children: \"El mensaje que envia es: \\xA1Su poliza esta pronto a Vencer!\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 161,\n        columnNumber: 25\n      }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 164,\n        columnNumber: 25\n      }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n        children: [\"precione el bot\\xF3n para confirmar \", /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 165,\n          columnNumber: 64\n        }, this), \" \"]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 165,\n        columnNumber: 25\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"btn btn-primary\",\n        onClick: insert,\n        children: \"si \"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 166,\n        columnNumber: 25\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 159,\n      columnNumber: 21\n    }, this) : /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"row\",\n      children: [si ? /*#__PURE__*/_jsxDEV(\"div\", {\n        class: \"alert alert-success\",\n        role: \"alert\",\n        children: [/*#__PURE__*/_jsxDEV(\"h4\", {\n          class: \"alert-heading\",\n          children: \"Se Seleccionado  el mensaje con Exito!\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 179,\n          columnNumber: 33\n        }, this), /*#__PURE__*/_jsxDEV(\"hr\", {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 181,\n          columnNumber: 33\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 178,\n        columnNumber: 35\n      }, this) : \"\", /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"col-6\",\n        children: [/*#__PURE__*/_jsxDEV(\"h4\", {\n          children: \"Mensaje\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 186,\n          columnNumber: 29\n        }, this), /*#__PURE__*/_jsxDEV(\"form\", {\n          onSubmit: SelectMensaje,\n          children: [/*#__PURE__*/_jsxDEV(\"select\", {\n            class: \"form-select\",\n            \"aria-label\": \"Default select example\",\n            onChange: event => setMenn(event.target.value),\n            children: [/*#__PURE__*/_jsxDEV(\"option\", {\n              children: \"Mensajes \"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 191,\n              columnNumber: 34\n            }, this), men.map((item, index) => /*#__PURE__*/_jsxDEV(\"option\", {\n              value: item.message,\n              children: [\" \", item.message, \" \"]\n            }, index, true, {\n              fileName: _jsxFileName,\n              lineNumber: 194,\n              columnNumber: 45\n            }, this))]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 189,\n            columnNumber: 33\n          }, this), /*#__PURE__*/_jsxDEV(\"select\", {\n            class: \"form-select\",\n            \"aria-label\": \"Default select example\",\n            onChange: event => setTypp(event.target.value),\n            children: [/*#__PURE__*/_jsxDEV(\"option\", {\n              children: \"Tipo \"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 203,\n              columnNumber: 34\n            }, this), men.map((item, index) => /*#__PURE__*/_jsxDEV(\"option\", {\n              value: item.type,\n              children: [\" \", item.type]\n            }, index, true, {\n              fileName: _jsxFileName,\n              lineNumber: 206,\n              columnNumber: 45\n            }, this))]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 201,\n            columnNumber: 33\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            class: \"d-grid gap-2\",\n            children: /*#__PURE__*/_jsxDEV(\"button\", {\n              type: \"submit\",\n              className: \" btn btn-primary sm-block\",\n              children: \"Seleccionar\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 214,\n              columnNumber: 37\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 213,\n            columnNumber: 33\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 188,\n          columnNumber: 29\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 185,\n        columnNumber: 25\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"col-6\",\n        children: [/*#__PURE__*/_jsxDEV(\"h4\", {\n          children: \"Crear Mensaje\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 221,\n          columnNumber: 29\n        }, this), /*#__PURE__*/_jsxDEV(\"form\", {\n          onSubmit: crearMens,\n          children: [/*#__PURE__*/_jsxDEV(\"input\", {\n            name: \"message\",\n            type: \"text\",\n            class: \"form-control\",\n            placeholder: \"crear Mensaje\",\n            \"aria-label\": \"Recipient's username\",\n            \"aria-describedby\": \"basic-addon2\",\n            onChange: e => setMessage(e.target.value)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 225,\n            columnNumber: 33\n          }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n            name: \"type\",\n            type: \"text\",\n            class: \"form-control\",\n            placeholder: \"crear el Tipo \",\n            \"aria-label\": \"Recipient's username\",\n            \"aria-describedby\": \"basic-addon2\",\n            onChange: e => setType(e.target.value)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 228,\n            columnNumber: 33\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            type: \"submit\",\n            class: \"btn btn-primary btn-sm\",\n            children: \"Crear\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 233,\n            columnNumber: 33\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 222,\n          columnNumber: 29\n        }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 234,\n          columnNumber: 36\n        }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 234,\n          columnNumber: 42\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 219,\n        columnNumber: 25\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 175,\n      columnNumber: 21\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 149,\n    columnNumber: 9\n  }, this);\n};\n\n_s(CreateMessages, \"JGomp6Xnt7HIOFwrilAPLnZsIV4=\");\n\n_c = CreateMessages;\nexport default CreateMessages;\n\nvar _c;\n\n$RefreshReg$(_c, \"CreateMessages\");","map":{"version":3,"sources":["/home/nico/Desarrollo/React/p_seguimiento/vistasistemaseguros/src/components/main/contents/steeps/messages/CreateMessages.jsx"],"names":["axios","React","useState","useEffect","CreateMessages","value","setValue","dataTemp","setDataTemp","men","setMen","menn","setMenn","typp","setTypp","personalized","setPersonalized","si","setSi","type","setType","message","setMessage","id_message","setId_message","id_person","setId_person","usernames","setUsernames","id_company","setId_company","name","setName","id_policy_type","setId_policy","name_policy","setName_policy","datail","setDatail","numberreal","setNumberreal","create","setCreate","phone","setPhone","fullname","setFullname","steeps","setSteeps","pre","setPre","getDataTemp","setInterval","getData","resultt","get","re","data","console","log","result","x","y","parseInt","SelectMensaje","e","preventDefault","insert","crearMens","insertM","resultP","post","id","status","event","target","map","item","index"],"mappings":"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","sourcesContent":["import axios from 'axios';\nimport React, { useState, useEffect } from 'react'\n\nconst CreateMessages = () => {\n    const [value, setValue] = useState('');\n    const [dataTemp, setDataTemp] = useState('');\n    const [men, setMen] = useState([]);\n\n    const [menn, setMenn] = useState([]);\n    const [typp, setTypp] = useState([]);\n    const [personalized, setPersonalized] = useState('nc')\n    const [si, setSi] = useState(false)\n\n\n    const [type, setType] = useState('send');\n    const [message, setMessage] = useState('mensaje editable versión premium');\n    const [id_message, setId_message] = useState('')\n\n\n\n    const [id_person, setId_person] = useState()\n    const [usernames, setUsernames] = useState()\n    const [id_company, setId_company] = useState(\"\")\n    const [name, setName] = useState()\n    const [id_policy_type, setId_policy] = useState(\"\")\n    const [name_policy, setName_policy] = useState(\"\")\n    const [datail, setDatail] = useState(\"\")\n    const [numberreal, setNumberreal] = useState(\"\")\n    const [create, setCreate] = useState(\"\")\n    // const [id_message, setId_message] = useState(1)\n    // const [type, setType] = useState(\"algo\")\n    // const [message, setMessage] = useState(\"en caso de que no llegue a mensaje\")\n    const [phone, setPhone] = useState([])\n    const [fullname, setFullname] = useState([])\n    const [steeps, setSteeps] = useState(8)\n\n    const [pre, setPre] = useState(true)\n\n\n\n    useEffect(() => {\n        // getData()\n        getDataTemp()\n        setInterval(() => {\n            getData()\n        }, 5000);\n    }, [])\n\n\n    const getDataTemp = async () => {\n        const resultt = await axios.get(`http://localhost:3500/temp/2`);\n        const re = resultt.data[0]\n        console.log(re)\n\n        setId_person(re.id_person);\n        setUsernames(re.usernames);\n        setFullname(re.fullname);\n        setPhone(re.phone);\n        setId_company(re.id_company);\n        setName(re.name);\n        setId_policy(re.id_policy_type);\n        setName_policy(re.name_policy);\n        setDatail(re.datail);\n        setNumberreal(re.numberreal);\n        setCreate(re.create)\n        setSteeps(re.steeps)\n\n    }\n\n    const getData = async () => {\n\n\n        const result = await axios.get(`http://localhost:3500/message`);\n        console.log(result.data)\n        // console.log(result.data[0].id_message)\n        const x = result.data[0].id_message;\n        const y = parseInt(x) + 1;\n        setId_message(y)\n        setMen(result.data)\n        // setId_message(x + 1)\n        // console.log(id_message)\n\n        // console.log(men[0].id_message)\n        // console.log(result.data[0])\n        //  setId_message(men[0].id_message)\n\n\n        // if (result.data === '' || result.data === \"null\") {\n        //     alert(\"no tiene elementos\")\n        // } else {\n        //     // alert(result.data[0].id_person)\n\n        // }\n\n\n    }\n    const SelectMensaje = async (e) => {\n        e.preventDefault()\n        console.log(menn, typp)\n        /////////aca va el re envio a temp\n        // const enviar = await axios.post(`http://localhost:3500/message`);\n        // const x = enviar.status;\n        // if (x === 200) {\n        //     setSi(true)\n        // }\n\n        insert()\n\n        insert()\n\n    }\n\n\n    const crearMens = (e) => {\n        e.preventDefault()\n        console.log(menn, typp);\n        // setType(typp);\n        // setMessage(menn)\n        insertM();\n    }\n\n\n    const insertM = async () => {\n\n        const resultP = await axios.post(`http://localhost:3500/message/`, {\n            type, message, personalized: personalized\n        })\n        insert()\n\n        insert()\n    }\n\n\n    const insert = async () => {\n        const id = 2;\n        const resultP = await axios.post(`http://localhost:3500/temp/${id}`, {\n            id_person, usernames, id_company, name, id_policy_type, name_policy, datail, numberreal, create, id_message:\"1\", type, message:\"enviado\", steeps: 7, phone, fullname\n        })\n        console.log(resultP.status)\n        const x = resultP.status;\n        if (x === 200) {\n            setSi(true)\n        }\n    }\n\n\n\n    return (\n        <div>\n\n            {/* < h1 > ¡Hola, reacciona con el almacenamiento local ! </ h1 > */}\n\n\n            {\n\n                pre ? (\n\n\n                    <div>\n                        <h1>Mensajes</h1>\n                        <h5>El mensaje que envia es: ¡Su poliza esta pronto a Vencer!</h5>\n                 \n\n                        <br />\n                        <span>precione el botón para confirmar <br /> </span>\n                        <div className=\"btn btn-primary\" onClick={insert}>si </div>\n                    </div>\n\n\n                ) : (\n\n\n\n\n                    <div className=\"row\">\n\n                        {\n                            si ? (<div class=\"alert alert-success\" role=\"alert\">\n                                <h4 class=\"alert-heading\">Se Seleccionado  el mensaje con Exito!</h4>\n\n                                <hr />\n\n                            </div>) : (\"\")\n                        }\n                        <div className=\"col-6\">\n                            <h4>Mensaje\n                            </h4>\n                            <form onSubmit={SelectMensaje}>\n                                <select class=\"form-select\" aria-label=\"Default select example\"\n                                    onChange={(event) => setMenn(event.target.value)}\n                                ><option>Mensajes </option>\n                                    {\n                                        men.map((item, index) =>\n                                            <option key={index} value={item.message} > {item.message} </option>\n\n                                        )\n                                    }\n                                </select>\n\n\n                                <select class=\"form-select\" aria-label=\"Default select example\"\n                                    onChange={(event) => setTypp(event.target.value)}\n                                ><option>Tipo </option>\n                                    {\n                                        men.map((item, index) =>\n                                            <option key={index} value={item.type} > {item.type}</option>\n\n                                        )\n                                    }\n                                </select>\n\n\n                                <div class=\"d-grid gap-2\">\n                                    <button type=\"submit\" className=\" btn btn-primary sm-block\">Seleccionar</button>\n                                </div>\n                            </form>\n\n                        </div>\n                        <div className=\"col-6\">\n\n                            <h4>Crear Mensaje</h4>\n                            <form onSubmit={crearMens}>\n\n                                {/* <label >Compañia</label> */}\n                                <input name=\"message\" type=\"text\" class=\"form-control\" placeholder=\"crear Mensaje\" aria-label=\"Recipient's username\" aria-describedby=\"basic-addon2\"\n                                    onChange={(e) => setMessage(e.target.value)}\n                                />\n                                <input name=\"type\" type=\"text\" class=\"form-control\" placeholder=\"crear el Tipo \" aria-label=\"Recipient's username\" aria-describedby=\"basic-addon2\"\n                                    onChange={(e) => setType(e.target.value)}\n                                />\n\n\n                                <button type=\"submit\" class=\"btn btn-primary btn-sm\">Crear</button>\n                            </form><br /><br />\n                        </div>\n                    </div>\n                )\n            }\n\n\n\n        </div >\n    )\n}\n\nexport default CreateMessages\n"]},"metadata":{},"sourceType":"module"}