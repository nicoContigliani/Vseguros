{"ast":null,"code":"var _jsxFileName = \"/home/nico/Desarrollo/React/p_seguimiento/vistasistemaseguros/src/components/main/contents/table/tablePerson/TablePerson.jsx\",\n    _s = $RefreshSig$();\n\nimport axios from 'axios';\nimport React, { useEffect, useState } from 'react';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nconst TablePerson = () => {\n  _s();\n\n  const [usuarios, setUsuarios] = useState([]);\n  const [editar, setEditar] = useState(true);\n  const [ids, setIds] = useState();\n  const [busqueda, setBusqueda] = useState(\"\");\n  const [filtro, setFiltro] = useState(\"\");\n  const [n, setN] = useState(\"\");\n  const [borrar, setBorrar] = useState([]);\n  const [todo, setTodo] = useState();\n  const [id_person, setId_person] = useState();\n  const [usernames, setUsernames] = useState();\n  const [fullname, setFullname] = useState();\n  const [email, setEmail] = useState();\n  const [phone, setPhone] = useState();\n  const [address, setAddress] = useState();\n  const [password, setPassword] = useState('password');\n  const [detail, setDetail] = useState();\n  const [active, setActive] = useState('');\n  const [id_agents, setId_agents] = useState('1');\n  const [id_clients, setId_clients] = useState('1');\n  const [id_policy, setId_Policy] = useState('1');\n  const [passport, setPassport] = useState();\n  useEffect(() => {\n    getData();\n  }, []);\n\n  const getData = async () => {\n    const result = await axios.get(`http://localhost:3500/user/`);\n    const x = result.data;\n    console.log(x); // setBorrar(x)\n\n    filtroUsuarioDesafectados(x);\n  };\n\n  const filtroUsuarioDesafectados = x => {\n    console.log(x);\n    const fi = x.filter(item => item.active === \"true\");\n    console.log(fi);\n    setUsuarios(fi);\n  };\n\n  const handleOnChange = () => {\n    setActive(!active);\n    alert(\"en caso de equivocarse en no dejar marcado la casilla y desea recuperar luego counicarse con 2612444106\");\n  };\n\n  const filtrar = e => {\n    e.preventDefault(); // getData()\n\n    console.log(usuarios);\n\n    if (usuarios === '' || usuarios === 'Null') {\n      alert('las busquedas no pueden ser sin contenido');\n    } else {\n      const fi = usuarios.filter(item => item.usernames === busqueda || item.id_person === parseInt(busqueda) || item.email === busqueda || item.phone === busqueda);\n      console.log(fi);\n      setUsuarios(fi);\n    }\n  };\n\n  const editarr = id => {\n    // alert(id)\n    // setEditar(false)\n    setIds(id);\n    editarUsuario(id);\n  };\n\n  const editarUsuario = async id => {\n    try {\n      const result = await axios.get(`http://localhost:3500/user/${id}`);\n      const x = result.data[0];\n      console.log(x);\n      setTodo(x);\n      setActive(x.active);\n      setEditar(false);\n      console.log(`${id}   usernames: ${usernames}, fullname: ${fullname}, email: ${email}, phone: ${phone}, address:${address}, password: ${password}, detail: ${detail}, active: ${active}, id_agents: ${id_agents}, id_clients: ${id_clients}, id_policy: ${id_policy}, passport: ${passport}\n            `);\n    } catch (error) {\n      console.log(error);\n    }\n  };\n\n  const GuardareditarUsuario = e => {\n    e.preventDefault();\n    alert();\n    eInsertar(ids);\n  };\n\n  const eInsertar = async id => {\n    try {\n      const enviar = await axios.post(`http://localhost:3500/user/${id}`, {\n        usernames: usernames,\n        fullname: fullname,\n        email: email,\n        phone: phone,\n        address: address,\n        password: password,\n        detail: detail,\n        active: active,\n        id_agents: 1,\n        id_clients: 1,\n        id_policy: id_policy,\n        passport: passport\n      });\n      console.log(\"enviado\");\n      console.log(enviar.data);\n      console.log(enviar.status);\n\n      if (enviar.status === 200) {\n        //    if (usernames==='undefined' && fullname==='undefined'&&  email==='undefined' && phone==='undefined' &&  address==='undefined' && password==='undefined' && detail==='undefined'&& active==='undefined'&& passport ==='undefined'\n        //    ){\n        //        alert(\"no hay nulos\");\n        //    }else{\n        //        alert(\"si hay nulos\");\n        //    }\n        setEditar(true);\n      } // window.location.reload();\n\n    } catch (error) {\n      console.log(error);\n    }\n  };\n\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    children: \"Tabla persona\"\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 160,\n    columnNumber: 9\n  }, this);\n};\n\n_s(TablePerson, \"IeLdcvGHAScPFMGC7FOZcEmvt6k=\");\n\n_c = TablePerson;\nexport default TablePerson;\n\nvar _c;\n\n$RefreshReg$(_c, \"TablePerson\");","map":{"version":3,"sources":["/home/nico/Desarrollo/React/p_seguimiento/vistasistemaseguros/src/components/main/contents/table/tablePerson/TablePerson.jsx"],"names":["axios","React","useEffect","useState","TablePerson","usuarios","setUsuarios","editar","setEditar","ids","setIds","busqueda","setBusqueda","filtro","setFiltro","n","setN","borrar","setBorrar","todo","setTodo","id_person","setId_person","usernames","setUsernames","fullname","setFullname","email","setEmail","phone","setPhone","address","setAddress","password","setPassword","detail","setDetail","active","setActive","id_agents","setId_agents","id_clients","setId_clients","id_policy","setId_Policy","passport","setPassport","getData","result","get","x","data","console","log","filtroUsuarioDesafectados","fi","filter","item","handleOnChange","alert","filtrar","e","preventDefault","parseInt","editarr","id","editarUsuario","error","GuardareditarUsuario","eInsertar","enviar","post","status"],"mappings":"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","sourcesContent":["import axios from 'axios'\nimport React, { useEffect, useState } from 'react'\n\nconst TablePerson = () => {\n\n\n\n    const [usuarios, setUsuarios] = useState([])\n    const [editar, setEditar] = useState(true)\n    const [ids, setIds] = useState()\n    const [busqueda, setBusqueda] = useState(\"\")\n    const [filtro, setFiltro] = useState(\"\")\n    const [n, setN] = useState(\"\")\n    const [borrar, setBorrar] = useState([])\n\n\n    const [todo, setTodo] = useState()\n\n\n\n    const [id_person, setId_person] = useState()\n    const [usernames, setUsernames] = useState()\n    const [fullname, setFullname] = useState()\n    const [email, setEmail] = useState()\n    const [phone, setPhone] = useState()\n    const [address, setAddress] = useState()\n    const [password, setPassword] = useState('password')\n    const [detail, setDetail] = useState()\n    const [active, setActive] = useState('')\n    const [id_agents, setId_agents] = useState('1')\n    const [id_clients, setId_clients] = useState('1')\n    const [id_policy, setId_Policy] = useState('1')\n    const [passport, setPassport] = useState()\n\n\n\n\n\n\n\n    useEffect(() => {\n        getData()\n    }, [])\n    const getData = async () => {\n        const result = await axios.get(`http://localhost:3500/user/`);\n        const x = result.data\n        console.log(x)\n\n        // setBorrar(x)\n        filtroUsuarioDesafectados(x)\n    }\n\n    const filtroUsuarioDesafectados = (x) => {\n        console.log(x)\n        const fi = x.filter(item => item.active === \"true\"\n\n        )\n        console.log(fi)\n        setUsuarios(fi)\n    }\n\n\n    const handleOnChange = () => {\n        setActive(!active);\n        alert(\"en caso de equivocarse en no dejar marcado la casilla y desea recuperar luego counicarse con 2612444106\")\n    };\n\n\n\n    const filtrar = (e) => {\n        e.preventDefault()\n        // getData()\n        console.log(usuarios)\n        if (usuarios === '' || usuarios === 'Null') {\n            alert('las busquedas no pueden ser sin contenido')\n        } else {\n\n            const fi = usuarios.filter(item => item.usernames === busqueda\n                || item.id_person === parseInt(busqueda)\n                || item.email === busqueda\n                || item.phone === busqueda\n            )\n            console.log(fi)\n            setUsuarios(fi)\n        }\n\n    }\n\n\n    const editarr = (id) => {\n        // alert(id)\n        // setEditar(false)\n        setIds(id)\n        editarUsuario(id)\n    }\n\n\n\n\n\n    const editarUsuario = async (id) => {\n        try {\n            const result = await axios.get(`http://localhost:3500/user/${id}`)\n            const x = result.data[0];\n            console.log(x)\n            setTodo(x)\n            setActive(x.active)\n            setEditar(false)\n            console.log(`${id}   usernames: ${usernames}, fullname: ${fullname}, email: ${email}, phone: ${phone}, address:${address}, password: ${password}, detail: ${detail}, active: ${active}, id_agents: ${id_agents}, id_clients: ${id_clients}, id_policy: ${id_policy}, passport: ${passport}\n            `)\n        } catch (error) {\n            console.log(error)\n        }\n\n    }\n\n    const GuardareditarUsuario = (e) => {\n        e.preventDefault()\nalert()\n        eInsertar(ids)\n    }\n\n\n    const eInsertar = async (id) => {\n        try {\n            const enviar = await axios.post(`http://localhost:3500/user/${id}`, {\n                usernames: usernames, fullname: fullname, email: email, phone: phone, address: address, password: password, detail: detail, active: active, id_agents: 1, id_clients: 1, id_policy: id_policy, passport: passport\n            }\n            );\n\n            console.log(\"enviado\")\n            console.log(enviar.data)\n            console.log(enviar.status)\n\n            if (enviar.status === 200) {\n                //    if (usernames==='undefined' && fullname==='undefined'&&  email==='undefined' && phone==='undefined' &&  address==='undefined' && password==='undefined' && detail==='undefined'&& active==='undefined'&& passport ==='undefined'\n                //    ){\n                //        alert(\"no hay nulos\");\n                //    }else{\n                //        alert(\"si hay nulos\");\n                //    }\n          \n                setEditar(true)\n\n            }\n\n            // window.location.reload();\n\n        } catch (error) {\n            console.log(error)\n\n        }\n    }\n\n\n\n\n\n    return (\n        <div>\n            Tabla persona\n        </div>\n    )\n}\n\nexport default TablePerson\n"]},"metadata":{},"sourceType":"module"}