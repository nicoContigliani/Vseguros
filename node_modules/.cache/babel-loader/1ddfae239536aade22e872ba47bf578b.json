{"ast":null,"code":"var _jsxFileName = \"/home/nico/Desarrollo/React/p_seguimiento/vistasistemaseguros/src/components/main/contents/table/tablePolicy/Companies.jsx\",\n    _s = $RefreshSig$();\n\nimport React, { useState, useEffect, useRef, useLayoutEffect } from 'react';\nimport ReactPaginate from \"react-paginate\";\nimport SearchIcon from '@material-ui/icons/Search';\nimport { makeStyles } from '@material-ui/core/styles';\nimport Button from '@material-ui/core/Button';\nimport Dialog from '@material-ui/core/Dialog';\nimport DialogActions from '@material-ui/core/DialogActions';\nimport DialogContent from '@material-ui/core/DialogContent';\nimport DialogContentText from '@material-ui/core/DialogContentText';\nimport DialogTitle from '@material-ui/core/DialogTitle';\nimport FormControl from '@material-ui/core/FormControl';\nimport FormControlLabel from '@material-ui/core/FormControlLabel';\nimport InputLabel from '@material-ui/core/InputLabel';\nimport MenuItem from '@material-ui/core/MenuItem';\nimport Select from '@material-ui/core/Select';\nimport Switch from '@material-ui/core/Switch';\nimport { Filter } from '@material-ui/icons';\nimport AppBar from '@material-ui/core/AppBar';\nimport Tab from '@material-ui/core/Tab';\nimport TabContext from '@material-ui/lab/TabContext';\nimport TabList from '@material-ui/lab/TabList';\nimport TabPanel from '@material-ui/lab/TabPanel';\nimport axios from 'axios';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst useStyles = makeStyles(theme => ({\n  root: {\n    flexGrow: 1,\n    backgroundColor: theme.palette.background.paper\n  },\n  form: {\n    display: 'flex',\n    flexDirection: 'column',\n    margin: 'auto',\n    width: 'fit-content'\n  },\n  formControl: {\n    marginTop: theme.spacing(2) //   minWidth: 120,\n\n  },\n  formControlLabel: {\n    marginTop: theme.spacing(1)\n  }\n}));\n\nconst Companies = props => {\n  _s();\n\n  const [pon, setPoN] = useState({\n    id_policy: 1,\n    id_policy_typess: \"\",\n    detail: \"\",\n    active: \"\",\n    id_person: \"\",\n    id_company: \"\",\n    create: \"\",\n    numberreal: \"\",\n    name: \"\",\n    id_message: \"\"\n  });\n  const [pont, setPont] = useState({\n    active: \"true\",\n    detail_pt: \"\",\n    id_policy_type: \"\",\n    name_policy: \"\"\n  });\n  const [comp, setComp] = useState({\n    id_company: \"\",\n    detail_c: \"\",\n    active: \"\",\n    id_company_detail: \"\",\n    name: \"\"\n  });\n  const [coomp, setCoomp] = useState({\n    id_company: \"\",\n    detail_c: \"\",\n    active: \"\",\n    id_company_detail: \"\",\n    name: \"\"\n  });\n  const [compp, setCompp] = useState([]);\n  useEffect(() => {\n    getDataCC();\n    getData(id);\n    console.log(pon);\n  }, []);\n  const id = props.id;\n\n  const getData = async id => {\n    const result = await axios.get(`http://localhost:3500/policys/${id}`);\n    const x = result.data[0];\n    const z = { ...x\n    };\n    setPoN(z);\n    getDataT(pon.id_policy_typess);\n    getDataC(pon.id_company);\n  };\n\n  const getDataT = async id_policy_typess => {\n    const result = await axios.get(`http://localhost:3500/policysType/${id_policy_typess}`);\n    const x = result.data[0];\n    const z = { ...x\n    }; // console.log(z, \"+++++++\")\n\n    setPont(z);\n  };\n\n  const getDataC = async id_company => {\n    const result = await axios.get(`http://localhost:3500/companies/${id_company}`);\n    const x = result.data[0];\n    const z = { ...x\n    }; // console.log(z, \"+++++++\")\n\n    setComp(z);\n  };\n\n  const getDataCC = async () => {\n    const result = await axios.get(`http://localhost:3500/companies/`);\n    const x = result.data;\n    console.log(\"********************\", x, \"*************************\");\n    setCompp(x);\n  };\n\n  const companiesss = async () => {\n    const result = await axios.get(`http://localhost:3500/companies/`);\n    setCompp(result.data);\n    const x = result.data; // setCo({\n    //     name: x.name,\n    //     detail_c: x.detail_c,\n    //     id_company_detail: x.id_company_detail\n    // })\n  };\n\n  const onchangePolicy = e => {\n    e.preventDefault();\n    console.log(e.target.value);\n    setPoN({ ...pon,\n      [e.target.name]: e.target.value\n    });\n  };\n\n  const onchangePolicyt = e => {\n    e.preventDefault();\n    console.log(e.target.value);\n    setPont({ ...pont,\n      [e.target.name]: e.target.value\n    });\n  };\n\n  const onchangeCompanies = e => {\n    e.preventDefault();\n    console.log(e.target.value);\n    setComp({ ...comp,\n      [e.target.name]: e.target.value\n    });\n  };\n\n  const onchangeCompaniess = e => {\n    e.preventDefault();\n    console.log(e.target.value);\n    setCoomp({ ...coomp,\n      [e.target.name]: e.target.value\n    });\n  };\n\n  const editarCompani = async e => {\n    e.preventDefault();\n    console.log(pont);\n    const {\n      id_company,\n      detail_c,\n      active,\n      id_company_detail,\n      name\n    } = comp;\n    const resultP = await axios.post(`http://localhost:3500/companies/${id_company}`, {\n      id_company,\n      detail_c,\n      active,\n      id_company_detail,\n      name\n    });\n\n    if (resultP.status === 200) {\n      alert(\" Tipo de poliza actualizada\");\n    }\n\n    const {\n      id_policys,\n      id_policy_typess,\n      detail_p,\n      active_p,\n      id_person,\n      create,\n      numberreal,\n      id_message\n    } = pon;\n    const resultPP = await axios.post(`http://localhost:3500/policys/${id_policys}`, {\n      id_policy_typess,\n      detail_p,\n      active_p,\n      id_person,\n      id_company: id_company,\n      create,\n      numberreal,\n      id_message\n    });\n\n    if (resultPP.status === 200) {\n      alert(\" Tipo de poliza actualizada\");\n    }\n  };\n\n  const catchCompany = async e => {\n    e.preventDefault();\n    console.log(coomp.id_company);\n    const n = coomp.id_company;\n    const x = compp.filter(item => item.id_company === parseInt(n));\n    const y = x[0];\n    const {\n      id_company: id_company,\n      detail_c: detail_c,\n      active: active,\n      id_company_detail: id_company_detail,\n      name: name\n    } = y;\n    const resultP = await axios.post(`http://localhost:3500/companies/${id_company}`, {\n      id_company,\n      detail_c,\n      active,\n      id_company_detail,\n      name\n    });\n\n    if (resultP.status === 200) {\n      alert(\" Tipo de poliza actualizada\");\n    }\n\n    const {\n      id_policys,\n      id_policy_typess,\n      detail_p,\n      active_p,\n      id_person,\n      create,\n      numberreal,\n      id_message\n    } = pon;\n    const resultPP = await axios.post(`http://localhost:3500/policys/${id_policys}`, {\n      id_policy_typess,\n      detail_p,\n      active_p,\n      id_person,\n      id_company: id_company,\n      create,\n      numberreal,\n      id_message\n    });\n\n    if (resultPP.status === 200) {\n      alert(\" Tipo de poliza actualizada\");\n    }\n\n    setCoomp({ ...coomp,\n      id_company: y.id_company,\n      detail_c: y.detail_c,\n      active: y.active,\n      id_company_detail: y.id_company_detail,\n      name: y.name\n    });\n  };\n\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    children: [/*#__PURE__*/_jsxDEV(\"form\", {\n      onSubmit: editarCompani,\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        class: \"input-group mb-3\",\n        children: [/*#__PURE__*/_jsxDEV(\"input\", {\n          name: \"id_company\",\n          type: \"text\",\n          defaultValue: comp.id_company,\n          class: \"form-control\",\n          placeholder: \"id_Compa\\xF1ia\",\n          \"aria-label\": \"Recipient's username\",\n          \"aria-describedby\": \"basic-addon2\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 297,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n          name: \"name\",\n          type: \"text\",\n          onChange: onchangeCompanies,\n          defaultValue: comp.name,\n          class: \"form-control\",\n          placeholder: \"Nombre de la compa\\xF1ia\",\n          \"aria-label\": \"Recipient's username\",\n          \"aria-describedby\": \"basic-addon2\",\n          minlength: \"1\",\n          required: true\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 298,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          class: \"input-group-append\",\n          children: /*#__PURE__*/_jsxDEV(\"button\", {\n            class: \"btn btn-outline-secondary\",\n            type: \"submit\",\n            children: \"Button\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 302,\n            columnNumber: 25\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 301,\n          columnNumber: 21\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 296,\n        columnNumber: 17\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 294,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"hr\", {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 307,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      class: \"input-group mb-3\",\n      children: /*#__PURE__*/_jsxDEV(\"form\", {\n        onSubmit: catchCompany,\n        children: [/*#__PURE__*/_jsxDEV(\"select\", {\n          class: \"form-select\",\n          \"aria-label\": \"Default select example\",\n          onChange: onchangeCompaniess,\n          name: \"id_company\",\n          children: [/*#__PURE__*/_jsxDEV(\"option\", {\n            children: \"compa\\xF1ias \"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 317,\n            columnNumber: 22\n          }, this), compp.map((item, index) => /*#__PURE__*/_jsxDEV(\"option\", {\n            value: item.id_company,\n            children: [\" id -compan\\xEDa \", item.id_company, \" --\", item.name]\n          }, index, true, {\n            fileName: _jsxFileName,\n            lineNumber: 320,\n            columnNumber: 33\n          }, this))]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 315,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 325,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"rb\",\n          children: /*#__PURE__*/_jsxDEV(\"div\", {\n            class: \"input-group-append\",\n            children: /*#__PURE__*/_jsxDEV(\"button\", {\n              class: \"btn btn-outline-secondary\",\n              type: \"submit\",\n              children: \"Seleccionar\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 328,\n              columnNumber: 29\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 327,\n            columnNumber: 25\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 326,\n          columnNumber: 21\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 313,\n        columnNumber: 17\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 310,\n      columnNumber: 13\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 293,\n    columnNumber: 9\n  }, this);\n};\n\n_s(Companies, \"DXMe51efsha2qySeg6hsXH9iIrA=\");\n\n_c = Companies;\nexport default Companies;\n\nvar _c;\n\n$RefreshReg$(_c, \"Companies\");","map":{"version":3,"sources":["/home/nico/Desarrollo/React/p_seguimiento/vistasistemaseguros/src/components/main/contents/table/tablePolicy/Companies.jsx"],"names":["React","useState","useEffect","useRef","useLayoutEffect","ReactPaginate","SearchIcon","makeStyles","Button","Dialog","DialogActions","DialogContent","DialogContentText","DialogTitle","FormControl","FormControlLabel","InputLabel","MenuItem","Select","Switch","Filter","AppBar","Tab","TabContext","TabList","TabPanel","axios","useStyles","theme","root","flexGrow","backgroundColor","palette","background","paper","form","display","flexDirection","margin","width","formControl","marginTop","spacing","formControlLabel","Companies","props","pon","setPoN","id_policy","id_policy_typess","detail","active","id_person","id_company","create","numberreal","name","id_message","pont","setPont","detail_pt","id_policy_type","name_policy","comp","setComp","detail_c","id_company_detail","coomp","setCoomp","compp","setCompp","getDataCC","getData","id","console","log","result","get","x","data","z","getDataT","getDataC","companiesss","onchangePolicy","e","preventDefault","target","value","onchangePolicyt","onchangeCompanies","onchangeCompaniess","editarCompani","resultP","post","status","alert","id_policys","detail_p","active_p","resultPP","catchCompany","n","filter","item","parseInt","y","map","index"],"mappings":"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","sourcesContent":["import React, { useState, useEffect, useRef, useLayoutEffect } from 'react'\nimport ReactPaginate from \"react-paginate\";\n\n\nimport SearchIcon from '@material-ui/icons/Search';\n\nimport { makeStyles } from '@material-ui/core/styles';\nimport Button from '@material-ui/core/Button';\nimport Dialog from '@material-ui/core/Dialog';\nimport DialogActions from '@material-ui/core/DialogActions';\nimport DialogContent from '@material-ui/core/DialogContent';\nimport DialogContentText from '@material-ui/core/DialogContentText';\nimport DialogTitle from '@material-ui/core/DialogTitle';\nimport FormControl from '@material-ui/core/FormControl';\nimport FormControlLabel from '@material-ui/core/FormControlLabel';\nimport InputLabel from '@material-ui/core/InputLabel';\nimport MenuItem from '@material-ui/core/MenuItem';\nimport Select from '@material-ui/core/Select';\nimport Switch from '@material-ui/core/Switch';\nimport { Filter } from '@material-ui/icons';\n\nimport AppBar from '@material-ui/core/AppBar';\nimport Tab from '@material-ui/core/Tab';\nimport TabContext from '@material-ui/lab/TabContext';\nimport TabList from '@material-ui/lab/TabList';\nimport TabPanel from '@material-ui/lab/TabPanel';\nimport axios from 'axios';\n\n\n\nconst useStyles = makeStyles((theme) => ({\n    root: {\n        flexGrow: 1,\n        backgroundColor: theme.palette.background.paper,\n    },\n    form: {\n        display: 'flex',\n        flexDirection: 'column',\n        margin: 'auto',\n        width: 'fit-content',\n    },\n    formControl: {\n        marginTop: theme.spacing(2),\n        //   minWidth: 120,\n    },\n    formControlLabel: {\n        marginTop: theme.spacing(1),\n    },\n}));\n\nconst Companies = (props) => {\n\n    const [pon, setPoN] = useState({\n        id_policy: 1,\n        id_policy_typess: \"\",\n        detail: \"\",\n        active: \"\",\n        id_person: \"\",\n        id_company: \"\",\n        create: \"\",\n        numberreal: \"\",\n        name: \"\",\n        id_message: \"\"\n    })\n\n    const [pont, setPont] = useState({\n        active: \"true\",\n        detail_pt: \"\",\n        id_policy_type: \"\",\n        name_policy: \"\"\n    })\n\n    const [comp, setComp] = useState({\n        id_company: \"\",\n        detail_c: \"\",\n        active: \"\",\n        id_company_detail: \"\",\n        name: \"\"\n    })\n\n    const [coomp, setCoomp] = useState({\n        id_company: \"\",\n        detail_c: \"\",\n        active: \"\",\n        id_company_detail: \"\",\n        name: \"\"\n    })\n\n    const [compp, setCompp] = useState([])\n\n\n\n    useEffect(() => {\n\n        getDataCC()\n        getData(id);\n        console.log(pon)\n    }, [])\n\n    const id = props.id;\n\n    const getData = async (id) => {\n        const result = await axios.get(`http://localhost:3500/policys/${id}`);\n        const x = result.data[0];\n        const z = { ...x }\n        setPoN(z)\n        getDataT(pon.id_policy_typess)\n        getDataC(pon.id_company)\n    }\n\n    const getDataT = async (id_policy_typess) => {\n        const result = await axios.get(`http://localhost:3500/policysType/${id_policy_typess}`);\n        const x = result.data[0];\n        const z = { ...x }\n        // console.log(z, \"+++++++\")\n        setPont(z)\n    }\n    const getDataC = async (id_company) => {\n        const result = await axios.get(`http://localhost:3500/companies/${id_company}`);\n        const x = result.data[0];\n        const z = { ...x }\n        // console.log(z, \"+++++++\")\n        setComp(z)\n    }\n\n\n    const getDataCC = async () => {\n        const result = await axios.get(`http://localhost:3500/companies/`);\n        const x = result.data;\n        console.log(\"********************\", x, \"*************************\")\n        setCompp(x)\n    }\n\n    const companiesss = async () => {\n        const result = await axios.get(`http://localhost:3500/companies/`);\n        setCompp(result.data)\n        const x = result.data;\n        // setCo({\n        //     name: x.name,\n        //     detail_c: x.detail_c,\n        //     id_company_detail: x.id_company_detail\n        // })\n\n    }\n\n\n\n    const onchangePolicy = e => {\n        e.preventDefault()\n        console.log(e.target.value);\n        setPoN({\n            ...pon,\n            [e.target.name]: e.target.value\n        })\n    }\n\n    const onchangePolicyt = e => {\n        e.preventDefault();\n        console.log(e.target.value);\n        setPont({\n            ...pont,\n            [e.target.name]: e.target.value\n        })\n    }\n\n\n    const onchangeCompanies = e => {\n        e.preventDefault();\n        console.log(e.target.value);\n        setComp({\n            ...comp,\n            [e.target.name]: e.target.value\n        })\n    }\n\n    const onchangeCompaniess = e => {\n        e.preventDefault();\n        console.log(e.target.value);\n        setCoomp({\n            ...coomp,\n            [e.target.name]: e.target.value\n        })\n    }\n\n\n\n\n\n    const editarCompani = async (e) => {\n        e.preventDefault();\n        console.log(pont)\n\n        const {\n            id_company,\n            detail_c,\n            active,\n            id_company_detail,\n            name\n        } = comp\n\n        const resultP = await axios.post(`http://localhost:3500/companies/${id_company}`, {\n            id_company,\n            detail_c,\n            active,\n            id_company_detail,\n            name\n        })\n        if (resultP.status === 200) {\n            alert(\" Tipo de poliza actualizada\")\n        }\n\n        const {\n            id_policys,\n            id_policy_typess,\n            detail_p,\n            active_p,\n            id_person,\n            create,\n            numberreal,\n            id_message\n        } = pon\n        const resultPP = await axios.post(`http://localhost:3500/policys/${id_policys}`, {\n            id_policy_typess, detail_p, active_p, id_person, id_company: id_company, create, numberreal, id_message\n        })\n        if (resultPP.status === 200) {\n            alert(\" Tipo de poliza actualizada\")\n        }\n    }\n\n\n\n    const catchCompany = async (e) => {\n        e.preventDefault()\n        console.log(coomp.id_company)\n        const n = coomp.id_company;\n\n        const x = compp.filter(item => item.id_company === parseInt(n));\n        const y = x[0]\n\n        const {\n            id_company: id_company,\n            detail_c: detail_c,\n            active: active,\n            id_company_detail: id_company_detail,\n            name: name\n        } = y\n\n\n        const resultP = await axios.post(`http://localhost:3500/companies/${id_company}`, {\n            id_company,\n            detail_c,\n            active,\n            id_company_detail,\n            name\n        })\n        if (resultP.status === 200) {\n            alert(\" Tipo de poliza actualizada\")\n        }\n\n        const {\n            id_policys,\n            id_policy_typess,\n            detail_p,\n            active_p,\n            id_person,\n            create,\n            numberreal,\n            id_message\n        } = pon\n        const resultPP = await axios.post(`http://localhost:3500/policys/${id_policys}`, {\n            id_policy_typess, detail_p, active_p, id_person, id_company: id_company, create, numberreal, id_message\n        })\n        if (resultPP.status === 200) {\n            alert(\" Tipo de poliza actualizada\")\n        }\n\n\n\n        setCoomp({\n            ...coomp,\n            id_company: y.id_company,\n            detail_c: y.detail_c,\n            active: y.active,\n            id_company_detail: y.id_company_detail,\n            name: y.name\n        })\n\n\n    }\n\n\n    return (\n        <div>\n            <form onSubmit={editarCompani} >\n\n                <div class=\"input-group mb-3\">\n                    <input name=\"id_company\" type=\"text\" defaultValue={comp.id_company} class=\"form-control\" placeholder=\"id_Compañia\" aria-label=\"Recipient's username\" aria-describedby=\"basic-addon2\" />\n                    <input name=\"name\" type=\"text\" onChange={onchangeCompanies} defaultValue={comp.name} class=\"form-control\" placeholder=\"Nombre de la compañia\" aria-label=\"Recipient's username\" aria-describedby=\"basic-addon2\" minlength=\"1\" required />\n\n\n                    <div class=\"input-group-append\">\n                        <button class=\"btn btn-outline-secondary\" type=\"submit\">Button</button>\n                    </div>\n                </div>\n\n            </form>\n            <hr />\n\n\n            <div class=\"input-group mb-3\">\n\n\n                <form onSubmit={catchCompany}>\n\n                    <select class=\"form-select\" aria-label=\"Default select example\"\n                        onChange={onchangeCompaniess} name=\"id_company\"\n                    ><option>compañias </option>\n                        {\n                            compp.map((item, index) =>\n                                <option key={index} value={item.id_company} > id -companía {item.id_company} --{item.name}</option>\n\n                            )\n                        }\n                    </select>\n                    <br />\n                    <div className=\"rb\">\n                        <div class=\"input-group-append\">\n                            <button class=\"btn btn-outline-secondary\" type=\"submit\">Seleccionar</button>\n                        </div>\n\n                    </div>\n\n                </form>\n\n\n\n\n            </div>\n        </div>\n    )\n}\n\nexport default Companies\n\n"]},"metadata":{},"sourceType":"module"}