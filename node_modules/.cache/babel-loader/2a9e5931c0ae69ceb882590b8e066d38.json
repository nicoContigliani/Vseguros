{"ast":null,"code":"var _jsxFileName = \"/home/nico/Desarrollo_Ubuntu/Proyecos_Guanicode/Seguros/SistemaSeguros/SistemaSeguros/vistasistemaseguros/src/components/main/contents/steeps/companies/CreateCompany.jsx\",\n    _s = $RefreshSig$();\n\nimport React, { useState, useEffect } from 'react';\nimport axios from 'axios';\nimport { makeStyles } from '@material-ui/core/styles';\nimport Slide from '@material-ui/core/Slide';\nimport Dialog from '@material-ui/core/Dialog';\nimport IconButton from '@material-ui/core/IconButton';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst useStyles = makeStyles(theme => ({\n  appBar: {\n    position: 'relative'\n  },\n  title: {\n    marginLeft: theme.spacing(2),\n    flex: 1\n  }\n}));\nconst Transition = /*#__PURE__*/React.forwardRef(_c = function Transition(props, ref) {\n  return /*#__PURE__*/_jsxDEV(Slide, {\n    direction: \"up\",\n    ref: ref,\n    ...props\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 22,\n    columnNumber: 12\n  }, this);\n});\n_c2 = Transition;\n\nconst CreateCompany = () => {\n  _s();\n\n  const [emergente, setEmergente] = useState(false);\n  const classes = useStyles();\n  const [open, setOpen] = React.useState(false);\n  const [companiesss, setCompaniesss] = useState({\n    id_company: \"1\",\n    name: \"guanicodeSistemas\",\n    active: \"1\",\n    detail: \"algo\",\n    id_company_detail: \"2\",\n    idcompany_detail: \"a\"\n  });\n  const {\n    id_company,\n    name,\n    active,\n    detail,\n    id_company_detail,\n    idCompany_detaill\n  } = companiesss;\n  const [cre, setCre] = useState(\"false\");\n  const [se, setSe] = useState(\"false\");\n  const [filtv, setFiltv] = useState(\"false\");\n  const [getD, setGetD] = useState([]);\n  const [filt, setFilt] = useState([]);\n  const [me, setMe] = useState(\"false\");\n  const [temp, setTemp] = useState([]);\n  const [comp, setComp] = useState([]);\n  const [cathCompanyC, setCathCompanyC] = useState(\"\");\n  const [datosTemp, setDatosTemp] = useState({\n    id_company: \"1\",\n    name: \"contigliani\",\n    id_policy_type: \"1\",\n    name_policy: \"\",\n    datail: \"\",\n    numberreal: \"\",\n    create: \"1988-06-03\",\n    id_message: \"1\",\n    type: \"\",\n    message: \"\",\n    steeps: 2\n  });\n\n  const getDataTemp = async () => {\n    const resultt = await axios.get(`http://localhost:3500/temp/2`);\n    const re = resultt.data[0];\n    setTemp(re);\n    console.log(\"***************************************************************************\");\n    console.log(re);\n    console.log(\"***************************************************************************\");\n  };\n\n  const datosTempUrl = async () => {};\n\n  useEffect(() => {\n    getDataTemp();\n    getDataCompany();\n  }, []);\n\n  const getDataCompany = async () => {\n    const resultt = await axios.get(`http://localhost:3500/companies/`);\n    setComp(resultt.data);\n  };\n\n  const onchangeCompany = e => {\n    e.preventDefault();\n    setCompaniesss({ ...companiesss,\n      [e.target.name]: e.target.value\n    });\n  };\n\n  const createCompany = async e => {\n    e.preventDefault();\n    console.log(\"elemento: \", name);\n    alert(`elemento:${name}`); // try {\n    //     const resultCreateCompanyDetail = await axios.post(`http://localhost:3500/companyDetail/`, {\n    //    detail_cd: detail, active, id_maturities: 1, name\n    //     })\n    // } catch (error) {\n    //     alert(error)\n    // }\n\n    try {\n      const resultCreateCompany = await axios.post(`http://localhost:3500/companies/`, {\n        detail_c: detail,\n        active,\n        id_company_detail,\n        name\n      });\n\n      if (resultCreateCompany.status === 200) {\n        alert('companies');\n        getDataCompany();\n        const resultt = await axios.get(`http://localhost:3500/companies/`); // setComp(resultt.data)\n\n        console.log(resultt.data);\n        const {\n          id_person,\n          usernames,\n          id_company,\n          names,\n          id_policy_type,\n          name_policy,\n          datail,\n          numberreal,\n          create,\n          id_message,\n          type,\n          message,\n          steeps,\n          phone,\n          fullname\n        } = temp;\n        const id_companys = resultt.data[0].id_company;\n        const namess = resultt.data[0].name;\n        const id = 2;\n        const resultP = await axios.post(`http://localhost:3500/temp/${id}`, {\n          id_person,\n          usernames,\n          id_company: id_companys,\n          name: namess,\n          id_policy_type,\n          name_policy,\n          datail,\n          numberreal,\n          create,\n          id_message,\n          type,\n          message,\n          steeps: \"3\",\n          phone,\n          fullname\n        });\n\n        if (resultP.status === 200) {\n          setEmergente(true);\n        }\n      }\n    } catch (error) {\n      console.log(error);\n    }\n  };\n\n  const changeCompany = e => {\n    setCathCompanyC({ ...cathCompanyC,\n      [e.target.name]: e.target.value\n    });\n  };\n\n  const catchCompany = e => {\n    e.preventDefault();\n    alert(cathCompanyC);\n  };\n\n  const cathCompanyCC = async id => {\n    alert(id);\n    const ida = parseInt(id);\n    const finddd = comp.find(item => item.id_company === ida);\n    console.log(\"**********find*************\");\n    console.log(finddd);\n    console.log(\"**********find*************\");\n    console.log(finddd.id_company);\n    console.log(finddd.name);\n    console.log(temp);\n    const {\n      id_person,\n      usernames,\n      id_company,\n      names,\n      id_policy_type,\n      name_policy,\n      datail,\n      numberreal,\n      create,\n      id_message,\n      type,\n      message,\n      steeps,\n      phone,\n      fullname\n    } = temp;\n\n    try {\n      const id = 2;\n      const resultP = await axios.post(`http://localhost:3500/temp/${id}`, {\n        id_person,\n        usernames,\n        id_company: finddd.id_company,\n        name: finddd.name,\n        id_policy_type,\n        name_policy,\n        datail,\n        numberreal,\n        create,\n        id_message,\n        type,\n        message,\n        steeps: \"3\",\n        phone,\n        fullname\n      });\n      console.log(resultP.status);\n\n      if (resultP.status === 200) {\n        setEmergente(true);\n      }\n    } catch (error) {\n      console.log(error);\n    }\n  };\n\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    children: /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"row\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"col-1\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 279,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"col-10\",\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          children: /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"row\",\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"col-6\",\n              children: [/*#__PURE__*/_jsxDEV(\"h4\", {\n                children: \"Crear Compa\\xF1ia\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 289,\n                columnNumber: 33\n              }, this), /*#__PURE__*/_jsxDEV(\"form\", {\n                onSubmit: createCompany,\n                children: [/*#__PURE__*/_jsxDEV(\"input\", {\n                  name: \"name\",\n                  minlength: \"1\",\n                  required: true,\n                  type: \"text\",\n                  class: \"form-control\",\n                  \"aria-label\": \"C\",\n                  \"aria-describedby\": \"basic-addon2\",\n                  onChange: onchangeCompany,\n                  value: companiesss.name\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 292,\n                  columnNumber: 37\n                }, this), se ? /*#__PURE__*/_jsxDEV(\"button\", {\n                  type: \"submit\",\n                  class: \"btn btn-primary btn-sm\",\n                  children: \"Crear\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 301,\n                  columnNumber: 45\n                }, this) : \"\"]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 290,\n                columnNumber: 33\n              }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 305,\n                columnNumber: 40\n              }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 305,\n                columnNumber: 46\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 287,\n              columnNumber: 29\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"col-6\",\n              children: [/*#__PURE__*/_jsxDEV(\"h4\", {\n                children: \"Seleccione Compa\\xF1ia\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 308,\n                columnNumber: 33\n              }, this), /*#__PURE__*/_jsxDEV(\"form\", {\n                onSubmit: catchCompany,\n                children: [/*#__PURE__*/_jsxDEV(\"select\", {\n                  class: \"form-select\",\n                  \"aria-label\": \"Default select example\" // onChange={(e) => setCompp(e.target.value)}\n                  // onChange={(e) => alert(e.target.value)}\n                  ,\n                  onChange: e => cathCompanyCC(e.target.value),\n                  children: [/*#__PURE__*/_jsxDEV(\"option\", {\n                    children: \"compa\\xF1ias \"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 318,\n                    columnNumber: 38\n                  }, this), comp.map((item, index) => /*#__PURE__*/_jsxDEV(\"option\", {\n                    value: item.id_company,\n                    children: [\" id -compan\\xEDa \", item.id_company, \" --\", item.name]\n                  }, index, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 321,\n                    columnNumber: 49\n                  }, this))]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 312,\n                  columnNumber: 37\n                }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                  class: \"d-grid gap-2\",\n                  children: se ? \"\" // <button type=\"submit\" className=\" btn btn-primary sm-block\">Seleccionar</button>\n                  : \"\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 329,\n                  columnNumber: 37\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 310,\n                columnNumber: 33\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 307,\n              columnNumber: 29\n            }, this), emergente ? /*#__PURE__*/_jsxDEV(\"div\", {\n              class: \"alert alert-primary btn-outline-secondary alert-dismissible fade show\",\n              role: \"alert\",\n              children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n                children: \"Compa\\xF1ia seleccionada\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 345,\n                columnNumber: 41\n              }, this), \" presione siguiente para pasar a la pr\\xF3xima pantalla.\"]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 344,\n              columnNumber: 37\n            }, this) : \"\"]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 283,\n            columnNumber: 25\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 282,\n          columnNumber: 21\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 280,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 278,\n      columnNumber: 13\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 275,\n    columnNumber: 9\n  }, this);\n};\n\n_s(CreateCompany, \"6XZ9WNFW/tz2mhbttfD2L457r7U=\", false, function () {\n  return [useStyles];\n});\n\n_c3 = CreateCompany;\nexport default CreateCompany;\n\nvar _c, _c2, _c3;\n\n$RefreshReg$(_c, \"Transition$React.forwardRef\");\n$RefreshReg$(_c2, \"Transition\");\n$RefreshReg$(_c3, \"CreateCompany\");","map":{"version":3,"sources":["/home/nico/Desarrollo_Ubuntu/Proyecos_Guanicode/Seguros/SistemaSeguros/SistemaSeguros/vistasistemaseguros/src/components/main/contents/steeps/companies/CreateCompany.jsx"],"names":["React","useState","useEffect","axios","makeStyles","Slide","Dialog","IconButton","useStyles","theme","appBar","position","title","marginLeft","spacing","flex","Transition","forwardRef","props","ref","CreateCompany","emergente","setEmergente","classes","open","setOpen","companiesss","setCompaniesss","id_company","name","active","detail","id_company_detail","idcompany_detail","idCompany_detaill","cre","setCre","se","setSe","filtv","setFiltv","getD","setGetD","filt","setFilt","me","setMe","temp","setTemp","comp","setComp","cathCompanyC","setCathCompanyC","datosTemp","setDatosTemp","id_policy_type","name_policy","datail","numberreal","create","id_message","type","message","steeps","getDataTemp","resultt","get","re","data","console","log","datosTempUrl","getDataCompany","onchangeCompany","e","preventDefault","target","value","createCompany","alert","resultCreateCompany","post","detail_c","status","id_person","usernames","names","phone","fullname","id_companys","namess","id","resultP","error","changeCompany","catchCompany","cathCompanyCC","ida","parseInt","finddd","find","item","map","index"],"mappings":"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","sourcesContent":["import React, { useState, useEffect } from 'react'\nimport axios from 'axios'\nimport { makeStyles } from '@material-ui/core/styles';\n\nimport Slide from '@material-ui/core/Slide';\nimport Dialog from '@material-ui/core/Dialog';\nimport IconButton from '@material-ui/core/IconButton';\n\n\n\nconst useStyles = makeStyles((theme) => ({\n    appBar: {\n        position: 'relative',\n    },\n    title: {\n        marginLeft: theme.spacing(2),\n        flex: 1,\n    },\n}));\n\nconst Transition = React.forwardRef(function Transition(props, ref) {\n    return <Slide direction=\"up\" ref={ref} {...props} />;\n});\n\n\nconst CreateCompany = () => {\n\n    const [emergente, setEmergente] = useState(false)\n\n    const classes = useStyles();\n    const [open, setOpen] = React.useState(false);\n    const [companiesss, setCompaniesss] = useState({\n        id_company: \"1\",\n        name: \"guanicodeSistemas\",\n        active: \"1\",\n        detail: \"algo\",\n        id_company_detail: \"2\",\n        idcompany_detail: \"a\"\n    })\n\n    const {\n        id_company,\n        name,\n        active,\n        detail,\n        id_company_detail,\n        idCompany_detaill\n\n    } = companiesss;\n\n\n\n\n    const [cre, setCre] = useState(\"false\");\n    const [se, setSe] = useState(\"false\");\n    const [filtv, setFiltv] = useState(\"false\")\n    const [getD, setGetD] = useState([])\n    const [filt, setFilt] = useState([])\n    const [me, setMe] = useState(\"false\")\n\n    const [temp, setTemp] = useState([])\n    const [comp, setComp] = useState([])\n    const [cathCompanyC, setCathCompanyC] = useState(\"\")\n\n\n\n\n\n    const [datosTemp, setDatosTemp] = useState({\n        id_company: \"1\",\n        name: \"contigliani\",\n        id_policy_type: \"1\",\n        name_policy: \"\",\n        datail: \"\",\n        numberreal: \"\",\n        create: \"1988-06-03\",\n        id_message: \"1\",\n        type: \"\",\n        message: \"\",\n        steeps: 2\n\n    })\n    const getDataTemp = async () => {\n        const resultt = await axios.get(`http://localhost:3500/temp/2`);\n        const re = resultt.data[0]\n        setTemp(re)\n\n\n        console.log(\"***************************************************************************\")\n        console.log(re)\n        console.log(\"***************************************************************************\")\n\n\n\n    }\n\n\n\n\n\n\n    const datosTempUrl = async () => {\n\n    }\n\n\n    useEffect(() => {\n        getDataTemp()\n        getDataCompany()\n    }, [])\n\n\n\n\n    const getDataCompany = async () => {\n        const resultt = await axios.get(`http://localhost:3500/companies/`);\n        setComp(resultt.data)\n    }\n\n\n\n    const onchangeCompany = (e) => {\n        e.preventDefault()\n        setCompaniesss({\n            ...companiesss,\n            [e.target.name]: e.target.value\n        })\n    }\n\n\n    const createCompany = async (e) => {\n        e.preventDefault();\n        console.log(\"elemento: \", name);\n        alert(`elemento:${name}`);\n\n\n        // try {\n        //     const resultCreateCompanyDetail = await axios.post(`http://localhost:3500/companyDetail/`, {\n\n        //    detail_cd: detail, active, id_maturities: 1, name\n\n        //     })\n        // } catch (error) {\n        //     alert(error)\n        // }\n\n\n\n\n\n        try {\n            const resultCreateCompany = await axios.post(`http://localhost:3500/companies/`, {\n                detail_c: detail,\n                active,\n                id_company_detail,\n                name\n            })\n            if (resultCreateCompany.status === 200) {\n                alert('companies')\n                getDataCompany()\n                const resultt = await axios.get(`http://localhost:3500/companies/`);\n                // setComp(resultt.data)\n                console.log(resultt.data)\n                const {\n                    id_person,\n                    usernames,\n                    id_company,\n                    names,\n                    id_policy_type,\n                    name_policy,\n                    datail,\n                    numberreal,\n                    create,\n                    id_message,\n                    type,\n                    message,\n                    steeps,\n                    phone,\n                    fullname\n                } = temp;\n\n\n                const id_companys = resultt.data[0].id_company\n                const namess = resultt.data[0].name\n\n\n\n                const id = 2;\n                const resultP = await axios.post(`http://localhost:3500/temp/${id}`, {\n                    id_person, usernames, id_company: id_companys, name: namess, id_policy_type, name_policy, datail, numberreal, create, id_message, type, message, steeps: \"3\", phone, fullname\n                })\n                if (resultP.status === 200) {\n                    setEmergente(true)\n                }\n\n\n\n\n\n            }\n\n\n        } catch (error) {\n            console.log(error)\n\n        }\n\n\n    }\n\n    const changeCompany = (e) => {\n        setCathCompanyC({\n            ...cathCompanyC,\n            [e.target.name]: e.target.value\n        })\n    }\n    const catchCompany = (e) => {\n        e.preventDefault();\n        alert(cathCompanyC)\n    }\n\n\n\n    const cathCompanyCC = async (id) => {\n        alert(id)\n        const ida = parseInt(id)\n        const finddd = comp.find(item => item.id_company === ida)\n        console.log(\"**********find*************\")\n        console.log(finddd)\n        console.log(\"**********find*************\")\n\n        console.log(finddd.id_company);\n        console.log(finddd.name);\n        console.log(temp)\n\n\n        const {\n            id_person,\n            usernames,\n            id_company,\n            names,\n            id_policy_type,\n            name_policy,\n            datail,\n            numberreal,\n            create,\n            id_message,\n            type,\n            message,\n            steeps,\n            phone,\n            fullname\n        } = temp;\n        try {\n            const id = 2;\n            const resultP = await axios.post(`http://localhost:3500/temp/${id}`, {\n                id_person, usernames, id_company: finddd.id_company, name: finddd.name, id_policy_type, name_policy, datail, numberreal, create, id_message, type, message, steeps: \"3\", phone, fullname\n            })\n\n\n            console.log(resultP.status)\n            if (resultP.status === 200) {\n                setEmergente(true)\n            }\n\n        } catch (error) {\n            console.log(error)\n        }\n\n    }\n\n\n\n    return (\n        <div>\n\n\n            <div className=\"row\">\n                <div className=\"col-1\"></div>\n                <div className=\"col-10\">\n\n                    <div>\n                        <div className=\"row\">\n\n\n\n                            <div className=\"col-6\">\n\n                                <h4>Crear Compañia</h4>\n                                <form onSubmit={createCompany}>\n\n                                    <input name=\"name\" minlength=\"1\" required type=\"text\" class=\"form-control\" aria-label=\"C\" aria-describedby=\"basic-addon2\"\n                                        onChange={onchangeCompany}\n                                        value={companiesss.name}\n\n                                    />\n\n\n                                    {\n                                        se ? (\n                                            <button type=\"submit\" class=\"btn btn-primary btn-sm\">Crear</button>\n\n                                        ) : (\"\")\n                                    }\n                                </form><br /><br />\n                            </div>\n                            <div className=\"col-6\">\n                                <h4>Seleccione Compañia\n                                </h4>\n                                <form onSubmit={catchCompany}>\n\n                                    <select class=\"form-select\" aria-label=\"Default select example\"\n                                        // onChange={(e) => setCompp(e.target.value)}\n                                        // onChange={(e) => alert(e.target.value)}\n                                        onChange={(e) => cathCompanyCC(e.target.value)}\n\n\n                                    ><option>compañias </option>\n                                        {\n                                            comp.map((item, index) =>\n                                                <option key={index} value={item.id_company} > id -companía {item.id_company} --{item.name}</option>\n\n                                            )\n                                        }\n                                    </select>\n\n\n\n                                    <div class=\"d-grid gap-2\">\n                                        {\n\n                                            se ? (\"\"\n                                                // <button type=\"submit\" className=\" btn btn-primary sm-block\">Seleccionar</button>\n\n                                            ) : (\"\")\n                                        }\n                                    </div>\n                                </form>\n\n                            </div>\n                            {\n                                emergente ? (\n\n                                    <div class=\"alert alert-primary btn-outline-secondary alert-dismissible fade show\" role=\"alert\">\n                                        <strong>Compañia seleccionada</strong> presione siguiente para pasar a la próxima pantalla.\n\n                                    </div>\n\n                                ) : (\"\")\n                            }\n\n\n                        </div>\n\n                    </div>\n\n\n\n                </div>\n            </div>\n        </div>\n    )\n}\n\nexport default CreateCompany\n"]},"metadata":{},"sourceType":"module"}