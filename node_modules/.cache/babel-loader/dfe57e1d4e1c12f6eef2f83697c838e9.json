{"ast":null,"code":"var _jsxFileName = \"/home/nico/Desarrollo/React/p_seguimiento/vistasistemaseguros/src/components/main/contents/steeps/companies/CreateCompany.jsx\",\n    _s = $RefreshSig$();\n\nimport React, { useState, useEffect } from 'react';\nimport axios from 'axios';\nimport { makeStyles } from '@material-ui/core/styles';\nimport Slide from '@material-ui/core/Slide';\nimport Dialog from '@material-ui/core/Dialog';\nimport IconButton from '@material-ui/core/IconButton';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst useStyles = makeStyles(theme => ({\n  appBar: {\n    position: 'relative'\n  },\n  title: {\n    marginLeft: theme.spacing(2),\n    flex: 1\n  }\n}));\nconst Transition = /*#__PURE__*/React.forwardRef(_c = function Transition(props, ref) {\n  return /*#__PURE__*/_jsxDEV(Slide, {\n    direction: \"up\",\n    ref: ref,\n    ...props\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 22,\n    columnNumber: 12\n  }, this);\n});\n_c2 = Transition;\n\nconst CreateCompany = () => {\n  _s();\n\n  const [emergente, setEmergente] = useState(false);\n  const classes = useStyles();\n  const [open, setOpen] = React.useState(false);\n  const [name, setName] = useState([]);\n  const [active, setActive] = useState('1');\n  const [detail, setDetail] = useState({});\n  const [id_company_detail, setId_company_detail] = useState(\"2\");\n  const [idCompany_detaill, setIdCompany_detaill] = useState({});\n  const [id, setId] = useState(2);\n  const [tempp, setTempp] = useState(\"\");\n  const [id_person, setId_person] = useState();\n  const [usernames, setUsernames] = useState();\n  const [id_company, setId_company] = useState(\"\"); // const [name, setName] = useState()\n\n  const [id_policy_type, setId_policy] = useState(1);\n  const [name_policy, setName_policy] = useState(\"\");\n  const [datail, setDatail] = useState(\"\");\n  const [numberreal, setNumberreal] = useState(1);\n  const [create, setCreate] = useState(\"\");\n  const [id_message, setId_message] = useState(1);\n  const [type, setType] = useState(\"\");\n  const [message, setMessage] = useState(\"\");\n  const [steeps, setSteeps] = useState(3); // para cuando inserte pase al siguiente paso \n\n  const [phone, setPhone] = useState([]);\n  const [fullname, setFullname] = useState([]);\n  const [palabra, setPalabra] = useState();\n  const [busqueda, setBusqueda] = useState([]);\n  const [se, setSe] = useState(true);\n  const [comp, setComp] = useState([]);\n  const [compDetail, setCompDetail] = useState([]);\n  const [compp, setCompp] = useState([]);\n  const [show, setShow] = useState(true);\n  useEffect(() => {\n    getDataCompany();\n    getDataTemp();\n    const hoy = new Date();\n    const fecha = hoy.getDate() + '-' + hoy.getMonth() + '-' + hoy.getFullYear();\n    setDetail(fecha);\n    setCreate(fecha);\n    setInterval(() => {\n      getDataCompany();\n    }, 5000);\n  }, []);\n\n  const getDataCompany = async () => {\n    const resultt = await axios.get(`http://localhost:3500/companies/`);\n    setComp(resultt.data);\n  };\n\n  const getDataTemp = async () => {\n    const resultt = await axios.get(`http://localhost:3500/temp/2`);\n    const re = resultt.data[0];\n    setId_person(re.id_person);\n    setUsernames(re.usernames);\n    setFullname(re.fullname);\n    setPhone(re.phone);\n    console.log(\"***************************************************************************\");\n    console.log(re);\n    console.log(\"***************************************************************************\");\n  };\n\n  const createCompany = async e => {\n    e.preventDefault();\n    const resultCreateCompany = await axios.post(`http://localhost:3500/companies/`, {\n      detail_c: detail,\n      active,\n      id_company_detail,\n      name\n    }); // getDataCompany()\n\n    console.log(resultCreateCompany.data.status);\n    capIdTemp();\n  };\n\n  const capIdTemp = async () => {\n    const x = comp[0].id_company;\n    const ids = parseInt(x);\n    const fi = comp.filter(item => item.id_company === ids);\n    console.log(\"*****capIdTemp***********\", fi[0], \"*****************\");\n    setName(fi[0].name);\n    setDetail(fi[0].detail_c); // insertTemp()\n    // insertTemp()\n\n    try {\n      const id = 2;\n      const resultP = await axios.post(`http://localhost:3500/temp/${id}`, {\n        id_person,\n        usernames,\n        id_company: comp[0].id_company,\n        name: fi[0].name,\n        id_policy_type,\n        name_policy,\n        datail,\n        numberreal,\n        create,\n        id_message,\n        type,\n        message,\n        steeps: \"3\",\n        phone,\n        fullname\n      });\n      console.log(resultP.status);\n    } catch (error) {\n      console.log(error);\n    }\n  };\n\n  const catchCompany = e => {\n    e.preventDefault();\n    const ids = parseInt(compp);\n    alert(comp);\n    const fi = comp.filter(item => item.id_company === ids);\n    console.log(fi[0]);\n    setId_company(parseInt(fi[0].id_company));\n    setName(fi[0].name);\n    setDetail(fi[0].detail_c);\n    insertTemp();\n    insertTemp();\n  };\n\n  const cathCompanyC = async id => {\n    const ida = parseInt(id);\n    const finddd = comp.find(item => item.id_company === ida);\n    console.log(\"**********find*************\");\n    console.log(finddd);\n    console.log(\"**********find*************\");\n\n    try {\n      const id = 2;\n      const resultP = await axios.post(`http://localhost:3500/temp/${id}`, {\n        id_person,\n        usernames,\n        id_company: finddd.id_company,\n        name: finddd.name,\n        id_policy_type,\n        name_policy,\n        datail,\n        numberreal,\n        create,\n        id_message,\n        type,\n        message,\n        steeps: \"3\",\n        phone,\n        fullname\n      });\n      console.log(resultP.status);\n      console.log(resultP.status);\n\n      if (resultP.status === 200) {\n        setEmergente(true);\n      }\n    } catch (error) {\n      console.log(error);\n    }\n  };\n\n  const insertTemp = async e => {\n    console.log(id_person, usernames, id_company, name, id_policy_type, name_policy, datail, numberreal, create, id_message, type, message, steeps, phone, fullname);\n    const id = 2;\n    const resultP = await axios.post(`http://localhost:3500/temp/${id}`, {\n      id_person,\n      usernames,\n      id_company,\n      name,\n      id_policy_type,\n      name_policy,\n      datail,\n      numberreal,\n      create,\n      id_message,\n      type,\n      message,\n      steeps: \"3\",\n      phone,\n      fullname\n    });\n    console.log(resultP.status);\n\n    if (resultP.status === 200) {\n      setEmergente(true);\n    }\n  };\n\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    children: /*#__PURE__*/_jsxDEV(\"div\", {\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"row\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"col-1\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 209,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"col-10\",\n          children: /*#__PURE__*/_jsxDEV(\"div\", {\n            children: /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"row\",\n              children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"col-6\",\n                children: [/*#__PURE__*/_jsxDEV(\"h4\", {\n                  children: \"Crear Compa\\xF1ia\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 219,\n                  columnNumber: 37\n                }, this), /*#__PURE__*/_jsxDEV(\"form\", {\n                  onSubmit: createCompany,\n                  children: [/*#__PURE__*/_jsxDEV(\"input\", {\n                    name: \"name\",\n                    type: \"text\",\n                    class: \"form-control\",\n                    placeholder: id_company,\n                    \"aria-label\": \"C\",\n                    \"aria-describedby\": \"basic-addon2\",\n                    onChange: e => setName(e.target.value)\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 222,\n                    columnNumber: 41\n                  }, this), se ? /*#__PURE__*/_jsxDEV(\"button\", {\n                    type: \"submit\",\n                    class: \"btn btn-primary btn-sm\",\n                    children: \"Crear\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 229,\n                    columnNumber: 49\n                  }, this) : \"\"]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 220,\n                  columnNumber: 37\n                }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 233,\n                  columnNumber: 44\n                }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 233,\n                  columnNumber: 50\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 217,\n                columnNumber: 33\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"col-6\",\n                children: [/*#__PURE__*/_jsxDEV(\"h4\", {\n                  children: \"Seleccione Compa\\xF1ia\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 236,\n                  columnNumber: 37\n                }, this), /*#__PURE__*/_jsxDEV(\"form\", {\n                  onSubmit: catchCompany,\n                  children: [/*#__PURE__*/_jsxDEV(\"select\", {\n                    class: \"form-select\",\n                    \"aria-label\": \"Default select example\" // onChange={(e) => setCompp(e.target.value)}\n                    // onChange={(e) => alert(e.target.value)}\n                    ,\n                    onChange: e => cathCompanyC(e.target.value),\n                    children: [/*#__PURE__*/_jsxDEV(\"option\", {\n                      children: \"compa\\xF1ias \"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 246,\n                      columnNumber: 42\n                    }, this), comp.map((item, index) => /*#__PURE__*/_jsxDEV(\"option\", {\n                      value: item.id_company,\n                      children: [\" id -compan\\xEDa \", item.id_company, \" --\", item.name]\n                    }, index, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 249,\n                      columnNumber: 53\n                    }, this))]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 240,\n                    columnNumber: 41\n                  }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                    class: \"d-grid gap-2\",\n                    children: se ? /*#__PURE__*/_jsxDEV(\"button\", {\n                      type: \"submit\",\n                      className: \" btn btn-primary sm-block\",\n                      children: \"Seleccionar\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 260,\n                      columnNumber: 53\n                    }, this) : \"\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 256,\n                    columnNumber: 41\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 238,\n                  columnNumber: 37\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 235,\n                columnNumber: 33\n              }, this), emergente ? /*#__PURE__*/_jsxDEV(\"div\", {\n                class: \"alert alert-success btn-outline-success alert-dismissible fade show\",\n                role: \"alert\",\n                children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n                  children: \"Holy guacamole!\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 272,\n                  columnNumber: 41\n                }, this), \" You should check in on some of those fields below.\", /*#__PURE__*/_jsxDEV(\"button\", {\n                  type: \"button\",\n                  class: \"close\",\n                  \"data-dismiss\": \"alert\",\n                  \"aria-label\": \"Close\",\n                  children: /*#__PURE__*/_jsxDEV(\"span\", {\n                    \"aria-hidden\": \"true\",\n                    children: \"\\xD7\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 274,\n                    columnNumber: 43\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 273,\n                  columnNumber: 41\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 271,\n                columnNumber: 41\n              }, this) : \"no\"]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 213,\n              columnNumber: 29\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 212,\n            columnNumber: 25\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 210,\n          columnNumber: 21\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 208,\n        columnNumber: 17\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 205,\n      columnNumber: 13\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 202,\n    columnNumber: 9\n  }, this);\n};\n\n_s(CreateCompany, \"FPMqq2QsMMWaJ0+S2Odgsh7oaKc=\", false, function () {\n  return [useStyles];\n});\n\n_c3 = CreateCompany;\nexport default CreateCompany;\n\nvar _c, _c2, _c3;\n\n$RefreshReg$(_c, \"Transition$React.forwardRef\");\n$RefreshReg$(_c2, \"Transition\");\n$RefreshReg$(_c3, \"CreateCompany\");","map":{"version":3,"sources":["/home/nico/Desarrollo/React/p_seguimiento/vistasistemaseguros/src/components/main/contents/steeps/companies/CreateCompany.jsx"],"names":["React","useState","useEffect","axios","makeStyles","Slide","Dialog","IconButton","useStyles","theme","appBar","position","title","marginLeft","spacing","flex","Transition","forwardRef","props","ref","CreateCompany","emergente","setEmergente","classes","open","setOpen","name","setName","active","setActive","detail","setDetail","id_company_detail","setId_company_detail","idCompany_detaill","setIdCompany_detaill","id","setId","tempp","setTempp","id_person","setId_person","usernames","setUsernames","id_company","setId_company","id_policy_type","setId_policy","name_policy","setName_policy","datail","setDatail","numberreal","setNumberreal","create","setCreate","id_message","setId_message","type","setType","message","setMessage","steeps","setSteeps","phone","setPhone","fullname","setFullname","palabra","setPalabra","busqueda","setBusqueda","se","setSe","comp","setComp","compDetail","setCompDetail","compp","setCompp","show","setShow","getDataCompany","getDataTemp","hoy","Date","fecha","getDate","getMonth","getFullYear","setInterval","resultt","get","data","re","console","log","createCompany","e","preventDefault","resultCreateCompany","post","detail_c","status","capIdTemp","x","ids","parseInt","fi","filter","item","resultP","error","catchCompany","alert","insertTemp","cathCompanyC","ida","finddd","find","target","value","map","index"],"mappings":"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","sourcesContent":["import React, { useState, useEffect } from 'react'\nimport axios from 'axios'\nimport { makeStyles } from '@material-ui/core/styles';\n\nimport Slide from '@material-ui/core/Slide';\nimport Dialog from '@material-ui/core/Dialog';\nimport IconButton from '@material-ui/core/IconButton';\n\n\n\nconst useStyles = makeStyles((theme) => ({\n    appBar: {\n        position: 'relative',\n    },\n    title: {\n        marginLeft: theme.spacing(2),\n        flex: 1,\n    },\n}));\n\nconst Transition = React.forwardRef(function Transition(props, ref) {\n    return <Slide direction=\"up\" ref={ref} {...props} />;\n});\n\n\nconst CreateCompany = () => {\n    \n    \n    const[emergente, setEmergente] = useState(false)\n\n    const classes = useStyles();\n    const [open, setOpen] = React.useState(false);\n\n    const [name, setName] = useState([]);\n    const [active, setActive] = useState('1')\n    const [detail, setDetail] = useState({})\n    const [id_company_detail, setId_company_detail] = useState(\"2\");\n    const [idCompany_detaill, setIdCompany_detaill] = useState({});\n    const [id, setId] = useState(2)\n\n\n    const [tempp, setTempp] = useState(\"\")\n\n    const [id_person, setId_person] = useState()\n    const [usernames, setUsernames] = useState()\n    const [id_company, setId_company] = useState(\"\")\n    // const [name, setName] = useState()\n    const [id_policy_type, setId_policy] = useState(1)\n    const [name_policy, setName_policy] = useState(\"\")\n    const [datail, setDatail] = useState(\"\")\n    const [numberreal, setNumberreal] = useState(1)\n    const [create, setCreate] = useState(\"\")\n    const [id_message, setId_message] = useState(1)\n    const [type, setType] = useState(\"\")\n    const [message, setMessage] = useState(\"\")\n    const [steeps, setSteeps] = useState(3) // para cuando inserte pase al siguiente paso \n    const [phone, setPhone] = useState([])\n    const [fullname, setFullname] = useState([])\n\n\n\n\n    const [palabra, setPalabra] = useState()\n\n    const [busqueda, setBusqueda] = useState([]);\n    const [se, setSe] = useState(true);\n    const [comp, setComp] = useState([])\n    const [compDetail, setCompDetail] = useState([])\n\n    const [compp, setCompp] = useState([])\n\n    const [show, setShow] = useState(true);\n\n    useEffect(() => {\n\n        getDataCompany()\n        getDataTemp()\n        const hoy = new Date()\n        const fecha = hoy.getDate() + '-' + hoy.getMonth() + '-' + hoy.getFullYear();\n        setDetail(fecha)\n        setCreate(fecha)\n\n\n\n        setInterval(() => {\n            getDataCompany()\n        }, 5000);\n\n    }, [])\n\n    const getDataCompany = async () => {\n        const resultt = await axios.get(`http://localhost:3500/companies/`);\n        setComp(resultt.data)\n    }\n\n    const getDataTemp = async () => {\n        const resultt = await axios.get(`http://localhost:3500/temp/2`);\n        const re = resultt.data[0]\n        setId_person(re.id_person)\n        setUsernames(re.usernames)\n        setFullname(re.fullname)\n        setPhone(re.phone)\n        console.log(\"***************************************************************************\")\n        console.log(re)\n        console.log(\"***************************************************************************\")\n\n    }\n\n    const createCompany = async (e) => {\n        e.preventDefault()\n        const resultCreateCompany = await axios.post(`http://localhost:3500/companies/`, {\n            detail_c: detail,\n            active,\n            id_company_detail,\n            name\n        })\n        // getDataCompany()\n        console.log(resultCreateCompany.data.status)\n        capIdTemp()\n    }\n\n    const capIdTemp = async () => {\n        const x = comp[0].id_company\n        const ids = parseInt(x)\n        const fi = comp.filter(item => item.id_company === ids)\n        console.log(\"*****capIdTemp***********\", fi[0], \"*****************\")\n        setName(fi[0].name)\n        setDetail(fi[0].detail_c)\n        // insertTemp()\n        // insertTemp()\n        try {\n            const id = 2;\n            const resultP = await axios.post(`http://localhost:3500/temp/${id}`, {\n                id_person, usernames, id_company: comp[0].id_company, name: fi[0].name, id_policy_type, name_policy, datail, numberreal, create, id_message, type, message, steeps: \"3\", phone, fullname\n            })\n            console.log(resultP.status)\n\n        } catch (error) {\n            console.log(error)\n        }\n    }\n\n    const catchCompany = (e) => {\n        e.preventDefault()\n        const ids = parseInt(compp)\n        alert(comp)\n        const fi = comp.filter(item => item.id_company === ids)\n        console.log(fi[0])\n        setId_company(parseInt(fi[0].id_company))\n        setName(fi[0].name)\n        setDetail(fi[0].detail_c)\n        insertTemp()\n        insertTemp()\n    }\n\n    const cathCompanyC = async (id) => {\n\n        const ida = parseInt(id)\n        const finddd = comp.find(item => item.id_company === ida)\n        console.log(\"**********find*************\")\n        console.log(finddd)\n        console.log(\"**********find*************\")\n\n        try {\n            const id = 2;\n            const resultP = await axios.post(`http://localhost:3500/temp/${id}`, {\n                id_person, usernames, id_company: finddd.id_company, name: finddd.name, id_policy_type, name_policy, datail, numberreal, create, id_message, type, message, steeps: \"3\", phone, fullname\n            })\n            console.log(resultP.status)\n\n            console.log(resultP.status)\n            if(resultP.status===200){\n                setEmergente(true)\n            }\n\n        } catch (error) {\n            console.log(error)\n        }\n\n    }\n\n\n\n    const insertTemp = async (e) => {\n        console.log(id_person, usernames, id_company, name, id_policy_type, name_policy, datail, numberreal, create, id_message, type, message, steeps, phone, fullname\n        )\n        const id = 2;\n        const resultP = await axios.post(`http://localhost:3500/temp/${id}`, {\n            id_person, usernames, id_company, name, id_policy_type, name_policy, datail, numberreal, create, id_message, type, message, steeps: \"3\", phone, fullname\n        })\n        console.log(resultP.status)\n        if(resultP.status===200){\n            setEmergente(true)\n        }\n\n    }\n\n\n\n\n    return (\n        <div>\n\n\n            <div>\n\n\n                <div className=\"row\">\n                    <div className=\"col-1\"></div>\n                    <div className=\"col-10\">\n\n                        <div>\n                            <div className=\"row\">\n\n\n\n                                <div className=\"col-6\">\n\n                                    <h4>Crear Compañia</h4>\n                                    <form onSubmit={createCompany}>\n\n                                        <input name=\"name\" type=\"text\" class=\"form-control\" placeholder={id_company} aria-label=\"C\" aria-describedby=\"basic-addon2\"\n                                            onChange={(e) => setName(e.target.value)}\n                                        />\n\n\n                                        {\n                                            se ? (\n                                                <button type=\"submit\" class=\"btn btn-primary btn-sm\">Crear</button>\n\n                                            ) : (\"\")\n                                        }\n                                    </form><br /><br />\n                                </div>\n                                <div className=\"col-6\">\n                                    <h4>Seleccione Compañia\n                                    </h4>\n                                    <form onSubmit={catchCompany}>\n\n                                        <select class=\"form-select\" aria-label=\"Default select example\"\n                                            // onChange={(e) => setCompp(e.target.value)}\n                                            // onChange={(e) => alert(e.target.value)}\n                                            onChange={(e) => cathCompanyC(e.target.value)}\n\n\n                                        ><option>compañias </option>\n                                            {\n                                                comp.map((item, index) =>\n                                                    <option key={index} value={item.id_company} > id -companía {item.id_company} --{item.name}</option>\n\n                                                )\n                                            }\n                                        </select>\n\n\n                                        <div class=\"d-grid gap-2\">\n                                            {\n\n                                                se ? (\n                                                    <button type=\"submit\" className=\" btn btn-primary sm-block\">Seleccionar</button>\n\n                                                ) : (\"\")\n                                            }\n                                        </div>\n                                    </form>\n\n                                </div>\n                                {\n                                    emergente ? (\n                                    \n                                        <div class=\"alert alert-success btn-outline-success alert-dismissible fade show\" role=\"alert\">\n                                        <strong>Holy guacamole!</strong> You should check in on some of those fields below.\n                                        <button type=\"button\" class=\"close\" data-dismiss=\"alert\" aria-label=\"Close\">\n                                          <span aria-hidden=\"true\">&times;</span>\n                                        </button>\n                                      </div>\n                                    \n                                        ):(\"no\")\n                                }\n                            </div>\n\n\n\n\n                        </div>\n\n                        \n\n                    </div>\n                </div>\n\n\n\n            </div>\n        </div>\n    )\n}\n\nexport default CreateCompany\n"]},"metadata":{},"sourceType":"module"}